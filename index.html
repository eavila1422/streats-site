<!DOCTYPE html>
<html>
<head>
  <title>Streats Live</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <style>
    body { 
      margin: 0; 
      font-family: 'Orbitron', sans-serif; 
      background: linear-gradient(135deg, #1e1e2f 0%, #2a2a4a 100%); 
      color: #e0e0ff; 
      overflow-x: hidden; 
    }
    .container { 
      max-width: 1400px; 
      margin: 0 auto; 
      padding: 50px 20px; 
    }
    h1 { 
      color: #00d4ff; 
      font-size: 3em; 
      text-align: center; 
      text-shadow: 0 0 10px rgba(0, 212, 255, 0.7); 
      margin-bottom: 30px; 
    }
    #auth-btn { 
      background: linear-gradient(45deg, #00d4ff, #ff4081); 
      color: #fff; 
      border: none; 
      padding: 15px 30px; 
      font-size: 1.2em; 
      cursor: pointer; 
      border-radius: 50px; 
      box-shadow: 0 5px 15px rgba(0, 212, 255, 0.5); 
      transition: transform 0.3s, box-shadow 0.3s; 
      display: block; 
      margin: 0 auto 40px; 
    }
    #auth-btn:hover { 
      transform: scale(1.1); 
      box-shadow: 0 8px 20px rgba(0, 212, 255, 0.8); 
    }
    #map { 
      height: 700px; 
      width: 100%; 
      border-radius: 20px; 
      box-shadow: 0 0 20px rgba(0, 212, 255, 0.3); 
      margin-bottom: 50px; 
      background: #1e1e2f; 
    }
    #auth-modal, #vendor-dashboard { 
      display: none; 
      background: rgba(30, 30, 47, 0.95); 
      padding: 40px; 
      border-radius: 20px; 
      box-shadow: 0 0 30px rgba(0, 212, 255, 0.5); 
      max-width: 600px; 
      margin: 0 auto 50px; 
      position: fixed; 
      top: 50%; 
      left: 50%; 
      transform: translate(-50%, -50%); 
      z-index: 1000; 
      animation: fadeIn 0.5s ease; 
    }
    @keyframes fadeIn { 
      from { opacity: 0; transform: translate(-50%, -60%); } 
      to { opacity: 1; transform: translate(-50%, -50%); } 
    }
    #auth-modal input, #vendor-dashboard input, #vendor-dashboard textarea, #vendor-dashboard select { 
      width: 100%; 
      padding: 12px; 
      margin: 10px 0; 
      border: 1px solid #00d4ff; 
      border-radius: 8px; 
      background: #2a2a4a; 
      color: #e0e0ff; 
      font-size: 1em; 
      transition: border-color 0.3s; 
    }
    #auth-modal input:focus, #vendor-dashboard input:focus, #vendor-dashboard textarea:focus, #vendor-dashboard select:focus { 
      border-color: #ff4081; 
      outline: none; 
    }
    #vendor-dashboard textarea { 
      height: 140px; 
      resize: vertical; 
    }
    #auth-modal button, #vendor-dashboard button { 
      background: linear-gradient(45deg, #00d4ff, #ff4081); 
      color: #fff; 
      border: none; 
      padding: 15px; 
      width: 100%; 
      border-radius: 8px; 
      cursor: pointer; 
      font-size: 1.1em; 
      transition: transform 0.3s, box-shadow 0.3s; 
      margin-top: 10px; 
    }
    #auth-modal button:hover, #vendor-dashboard button:hover { 
      transform: scale(1.05); 
      box-shadow: 0 5px 15px rgba(255, 64, 129, 0.7); 
    }
    .time-group { 
      display: flex; 
      gap: 15px; 
    }
    .time-group input { 
      width: 65%; 
    }
    .time-group select { 
      width: 35%; 
    }
    #address-preview { 
      font-size: 0.9em; 
      color: #00d4ff; 
      margin-top: 8px; 
    }
    #business-page { 
      display: none; 
      position: fixed; 
      top: 50%; 
      left: 50%; 
      transform: translate(-50%, -50%); 
      background: rgba(30, 30, 47, 0.95); 
      padding: 40px; 
      border-radius: 20px; 
      box-shadow: 0 0 30px rgba(0, 212, 255, 0.5); 
      max-width: 700px; 
      z-index: 1000; 
      animation: fadeIn 0.5s ease; 
    }
    #business-page h2 { 
      color: #00d4ff; 
      margin-bottom: 20px; 
      text-shadow: 0 0 5px rgba(0, 212, 255, 0.7); 
    }
    #business-page p { 
      margin: 15px 0; 
      font-size: 1.1em; 
    }
    #business-page img { 
      max-width: 100%; 
      border-radius: 10px; 
      margin: 15px 0; 
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3); 
    }
    #close-page { 
      background: linear-gradient(45deg, #ff4081, #00d4ff); 
      color: #fff; 
      border: none; 
      padding: 10px 20px; 
      border-radius: 8px; 
      cursor: pointer; 
      transition: transform 0.3s; 
    }
    #close-page:hover { 
      transform: scale(1.05); 
    }
    #about { 
      background: rgba(30, 30, 47, 0.95); 
      padding: 50px; 
      border-radius: 20px; 
      box-shadow: 0 0 20px rgba(0, 212, 255, 0.3); 
      text-align: left; 
      margin-top: 50px; 
    }
    #about h2 { 
      color: #00d4ff; 
      font-size: 2.2em; 
      margin-bottom: 25px; 
      text-shadow: 0 0 5px rgba(0, 212, 255, 0.7); 
    }
    #about p { 
      font-size: 1.2em; 
      margin-bottom: 20px; 
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="container">
    <h1>Streats Live</h1>
    <button id="auth-btn">Sign Up / Login</button>
    <div id="map"></div>
    <div id="auth-modal">
      <h2 id="auth-title">Sign Up</h2>
      <input type="email" id="email" placeholder="Email" required><br>
      <input type="password" id="password" placeholder="Password" required><br>
      <div id="signup-fields" style="display: none;">
        <input type="text" id="name" placeholder="Business Name" required><br>
        <input type="text" id="foodType" placeholder="Food Type (e.g., Tacos)" required><br>
        <input type="text" id="contact" placeholder="Contact Info" required><br>
        <input type="text" id="address" placeholder="Start typing address..." required><br>
        <div id="address-preview"></div>
        <div class="time-group">
          <input type="text" id="startTime" placeholder="Start (e.g., 9:00)" pattern="^(1[0-2]|0?[1-9]):[0-5][0-9]$" required>
          <select id="startPeriod" required>
            <option value="AM">AM</option>
            <option value="PM">PM</option>
          </select>
        </div>
        <div class="time-group">
          <input type="text" id="endTime" placeholder="End (e.g., 5:00)" pattern="^(1[0-2]|0?[1-9]):[0-5][0-9]$" required>
          <select id="endPeriod" required>
            <option value="AM">AM</option>
            <option value="PM">PM</option>
          </select>
        </div>
        <textarea id="description" placeholder="Description" required></textarea><br>
        <input type="text" id="specials" placeholder="Specials (e.g., Taco Tuesday)" required><br>
        <input type="file" id="photos" accept="image/*" multiple><br>
      </div>
      <button id="auth-submit">Submit</button>
      <p id="auth-toggle">Already have an account? <a href="#" onclick="toggleAuthMode()">Login</a></p>
    </div>
    <div id="vendor-dashboard">
      <h2>Welcome, <span id="vendor-name"></span></h2>
      <p id="approval-status"></p>
      <input type="file" id="product-photos" accept="image/*" multiple><br>
      <button id="update-photos">Update Product Photos</button>
      <button id="live-toggle">Go Live</button>
      <button id="logout">Logout</button>
    </div>
    <div id="business-page">
      <h2 id="page-name"></h2>
      <p id="page-foodType"></p>
      <p id="page-contact"></p>
      <p id="page-address"></p>
      <p id="page-hours"></p>
      <p id="page-description"></p>
      <p id="page-specials"></p>
      <div id="page-photos"></div>
      <button id="close-page" onclick="closeBusinessPage()">Close</button>
    </div>
    <div id="about">
      <h2>About Streats Live</h2>
      <p>Our mission is to connect food lovers with the best local food trucks, bringing communities together through delicious eats. We aim to make it easy for vendors to share their locations and for customers to find them in real-time.</p>
      <p><strong>Goals:</strong> Empower small businesses, promote local cuisine, and create a vibrant food scene in every neighborhood.</p>
      <p><strong>Team:</strong> A passionate group of foodies, developers, and dreamers working to revolutionize street food discovery.</p>
    </div>
  </div>
  <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-storage.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-auth.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDeaGTuprL_qbUkydv-DdDYiIgh0_XPu88&libraries=places"></script>
  <script src="script.js" defer></script>
</body>
</html>
