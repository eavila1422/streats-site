<!DOCTYPE html>
<html>
<head>
  <title>Streats Live</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <style>
    body { 
      margin: 0; 
      font-family: 'Roboto', sans-serif; 
      background-color: #f4f4f9; 
      color: #333; 
      line-height: 1.6; 
    }
    .container { 
      max-width: 1280px; 
      margin: 0 auto; 
      padding: 40px 20px; 
    }
    h1 { 
      color: #ff5733; 
      font-size: 2.5em; 
      margin-bottom: 20px; 
      text-align: center; 
    }
    #auth-btn { 
      background-color: #ff5733; 
      color: white; 
      border: none; 
      padding: 12px 24px; 
      font-size: 1.1em; 
      cursor: pointer; 
      border-radius: 8px; 
      transition: background-color 0.3s, transform 0.2s; 
      display: block; 
      margin: 0 auto 30px; 
    }
    #auth-btn:hover { 
      background-color: #e04e2b; 
      transform: scale(1.05); 
    }
    #map { 
      height: 600px; 
      width: 100%; 
      border-radius: 12px; 
      box-shadow: 0 4px 12px rgba(0,0,0,0.1); 
      margin-bottom: 40px; 
    }
    #auth-modal, #vendor-dashboard { 
      display: none; 
      background-color: white; 
      padding: 30px; 
      border-radius: 12px; 
      box-shadow: 0 4px 12px rgba(0,0,0,0.1); 
      max-width: 500px; 
      margin: 0 auto 40px; 
    }
    #auth-modal input, #vendor-dashboard input, #vendor-dashboard textarea, #vendor-dashboard select { 
      width: 100%; 
      padding: 10px; 
      margin: 8px 0; 
      border: 1px solid #ddd; 
      border-radius: 6px; 
      box-sizing: border-box; 
      font-size: 1em; 
    }
    #vendor-dashboard textarea { 
      height: 120px; 
      resize: vertical; 
    }
    #auth-modal button, #vendor-dashboard button { 
      background-color: #ff5733; 
      color: white; 
      border: none; 
      padding: 12px; 
      width: 100%; 
      border-radius: 6px; 
      cursor: pointer; 
      transition: background-color 0.3s; 
      font-size: 1.1em; 
    }
    #auth-modal button:hover, #vendor-dashboard button:hover { 
      background-color: #e04e2b; 
    }
    .time-group { 
      display: flex; 
      gap: 12px; 
    }
    .time-group input { 
      width: 65%; 
    }
    .time-group select { 
      width: 35%; 
    }
    #address-preview { 
      font-size: 0.9em; 
      color: #666; 
      margin-top: 6px; 
    }
    #business-page { 
      display: none; 
      position: fixed; 
      top: 50%; 
      left: 50%; 
      transform: translate(-50%, -50%); 
      background: white; 
      padding: 30px; 
      border-radius: 12px; 
      box-shadow: 0 6px 15px rgba(0,0,0,0.2); 
      max-width: 600px; 
      z-index: 1000; 
    }
    #business-page h2 { 
      color: #ff5733; 
      margin-bottom: 15px; 
    }
    #business-page p { 
      margin: 10px 0; 
    }
    #business-page img { 
      max-width: 100%; 
      border-radius: 8px; 
      margin: 10px 0; 
    }
    #close-page { 
      background: #ff5733; 
      color: white; 
      border: none; 
      padding: 8px 16px; 
      border-radius: 6px; 
      cursor: pointer; 
      transition: background-color 0.3s; 
    }
    #close-page:hover { 
      background: #e04e2b; 
    }
    #about { 
      background: white; 
      padding: 40px; 
      border-radius: 12px; 
      box-shadow: 0 4px 12px rgba(0,0,0,0.1); 
      text-align: left; 
    }
    #about h2 { 
      color: #ff5733; 
      font-size: 2em; 
      margin-bottom: 20px; 
    }
    #about p { 
      font-size: 1.1em; 
      margin-bottom: 15px; 
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="container">
    <h1>Streats Live</h1>
    <button id="auth-btn">Sign Up / Login</button>
    <div id="map"></div>
    <div id="auth-modal">
      <h2 id="auth-title">Sign Up</h2>
      <input type="email" id="email" placeholder="Email" required><br>
      <input type="password" id="password" placeholder="Password" required><br>
      <div id="signup-fields" style="display: none;">
        <input type="text" id="name" placeholder="Business Name" required><br>
        <input type="text" id="foodType" placeholder="Food Type (e.g., Tacos)" required><br>
        <input type="text" id="contact" placeholder="Contact Info" required><br>
        <input type="text" id="address" placeholder="Start typing address..." required><br>
        <div id="address-preview"></div>
        <div class="time-group">
          <input type="text" id="startTime" placeholder="Start (e.g., 9:00)" pattern="^(1[0-2]|0?[1-9]):[0-5][0-9]$" required>
          <select id="startPeriod" required>
            <option value="AM">AM</option>
            <option value="PM">PM</option>
          </select>
        </div>
        <div class="time-group">
          <input type="text" id="endTime" placeholder="End (e.g., 5:00)" pattern="^(1[0-2]|0?[1-9]):[0-5][0-9]$" required>
          <select id="endPeriod" required>
            <option value="AM">AM</option>
            <option value="PM">PM</option>
          </select>
        </div>
        <textarea id="description" placeholder="Description" required></textarea><br>
        <input type="text" id="specials" placeholder="Specials (e.g., Taco Tuesday)" required><br>
        <input type="file" id="photos" accept="image/*" multiple><br>
      </div>
      <button id="auth-submit">Submit</button>
      <p id="auth-toggle">Already have an account? <a href="#" onclick="toggleAuthMode()">Login</a></p>
    </div>
    <div id="vendor-dashboard">
      <h2>Welcome, <span id="vendor-name"></span></h2>
      <p id="approval-status"></p>
      <button id="live-toggle">Go Live</button>
      <button id="logout">Logout</button>
    </div>
    <div id="business-page">
      <h2 id="page-name"></h2>
      <p id="page-foodType"></p>
      <p id="page-contact"></p>
      <p id="page-address"></p>
      <p id="page-hours"></p>
      <p id="page-description"></p>
      <p id="page-specials"></p>
      <div id="page-photos"></div>
      <button id="close-page" onclick="closeBusinessPage()">Close</button>
    </div>
    <div id="about">
      <h2>About Streats Live</h2>
      <p>Our mission is to connect food lovers with the best local food trucks, bringing communities together through delicious eats. We aim to make it easy for vendors to share their locations and for customers to find them in real-time.</p>
      <p><strong>Goals:</strong> Empower small businesses, promote local cuisine, and create a vibrant food scene in every neighborhood.</p>
      <p><strong>Team:</strong> A passionate group of foodies, developers, and dreamers working to revolutionize street food discovery.</p>
    </div>
  </div>
  <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-storage.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-auth.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_API_KEY&libraries=places"></script>
  <script src="script.js" defer></script>
</body>
</html>
